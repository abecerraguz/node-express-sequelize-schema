{{> partials/navbars }}
<div class="container vh-100" id="main">
    <h1 class="h5">{{> partials/title }}</h1>
    <hr>
    <div class="table-responsive-sm">
        <div class="contentIngresarPaciente">
            <h2 class="titlePacientes"><span>Lista de Pacientes</span></h2>
            <a class="buttonNuevaData" href="#" id="nuevoPaciente"><i class="bi bi-plus-circle"></i>Nuevo
                paciente</a>
        </div>
        <div class="contentTable">
            <table class="table px-2 table-hover">
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Apellido</th>
                        <th scope="col">Sexo</th>
                        <th scope="col">Nacimiento</th>
                        <th scope="col">Región</th>
                        <th scope="col">Ciudad</th>
                        <th scope="col">Celular</th>
                        <th scope="col">Acción</th>
                    </tr>
                </thead>
                <tbody id="infoTable">
                    {{#each pacientes}}
                    <tr>
                        <th scope="row" class="collapseAction"><i class="bi bi-dash-circle"
                                name="{{this.pk_idPaciente}}"></i></th>
                        <td data-label="">{{this.nombre}}</td>
                        <td data-label="">{{this.apellido}}</td>
                        <td data-label="">{{this.sexo}}</td>
                        <td data-label="">{{this.fechaNacimiento}}</td>
                        <td data-label="">{{this.region}}</td>
                        <td data-label="">{{this.ciudad}}</td>
                        <td data-label="">{{this.telefono}}</td>

                        <td>
                            <div class="contentButton {{this.pk_idPaciente}}" name="{{this.pk_idPaciente}}">
                                <input type="checkbox" {{#if this.estado}}checked {{/if}} id="{{this.pk_idPaciente}}">
                                <button type="button" name="{{this.pk_idPaciente}}" class="buttonEliminar"
                                    id="buttonEliminar" {{#unless this.estado}}disabled {{/unless}}><i
                                        class="bi bi-x-circle"></i></button>

                            </div>
                        </td>
                    </tr>
                    <tr class="collapseActionTrows {{this.pk_idPaciente}}">

                        <td colspan="10">
                            <div class="contentAction {{this.pk_idPaciente}}">
                                <button type="button" name="{{this.pk_idPaciente}}" class="buttonEditarPaciente"
                                    id="buttonEditar" {{#unless this.estado}}disabled {{/unless}}><i
                                        class="bi bi-pencil-fill"></i> Editar paciente</button>
                                <button type="button" name="{{this.pk_idPaciente}}" class="buttonEditarExpediente"
                                    id="buttonEditExpediente" {{#unless this.estado}}disabled {{/unless}}><i
                                        class="bi bi-pencil-fill"></i> Editar Expediente</button>
                                <button type="button" name="{{this.pk_idPaciente}}" class="buttonAgendarCita"
                                    id="buttonNuevaCita" {{#unless this.estado}}disabled {{/unless}}><i
                                        class="bi bi-plus-circle"></i> Agendar Cita</button>
                            </div>

                            <div class="contentInfoTableAgendarCita {{this.pk_idPaciente}} {{#unless this.estado}}disabled {{/unless}}">
                                <div class="contentTitle">Citas agendadas</div>

                                <table class="table citasThead table-hover">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Doctor</th>
                                            <th scope="col">Especialidad</th>
                                            <th scope="col">Fecha</th>
                                            <th scope="col">Hora</th>
                                            <th scope="col">Consultorio</th>
                                            <th scope="col">Acción</th>
                                        </tr>
                                    </thead>
                                    <tbody class="infoTableCitas" info="{{this.pk_idPaciente}}" id="citas-{{this.pk_idPaciente}}">

                                    </tbody>
                                </table>
                            </div>



                        </td>



                    </tr>
                    {{/each}}
                </tbody>
            </table>

        </div>

    </div>
</div>
{{> partials/modalAddNewPacient}}
{{> partials/modalEditPacient}}
{{> partials/modalEditExpediente}}
{{> partials/modalAddNewCita}}
{{> partials/modalInfoAlert }}
{{> partials/footer }}